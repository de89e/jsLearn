<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <style>
    /*w20+h20+bgc*/
    .css {
      width: 200px;
      height: 200px;
    }

    .box {
      position: relative;
      width: 500px;
      height: 100px;
      background-color: aquamarine;
      margin: 100px auto;
    }

    .close {
      position: absolute;
      right: 10px;
      top: 10px;
      width: 100px;
      height: 20px;
      background-color: blue;
      text-align: center;
      cursor: pointer;
    }

    .pinglun {
      width: 150px;
      height: 30px;
      transition: all 0.3s
    }

    .pinglun:focus {
      width: 200px;
      height: 30px;
    }

    .total {
      opacity: 0;
      transition: all 0.5s;
    }
  </style>
  <div class="box">
    我是广告
    <div class="close">X关闭广告X</div>
  </div>
  <div id="question">问题占位符</div>
  <button id='btn_start'>开始</button>
  <button id='btn_end'>结束</button>
  <input type="search" id="input">
  <br />
  <br />
  <br />
  <div class="wrapper">
    <textarea name="pinglun" id="pinglun" class="pinglun"></textarea>
    <button>提交</button>
  </div>
  <div class="total">0/100字符</div>
  <script>
    const question_arr = ['基本原则', '压下', '二奇才', '顶戴']
    const close = document.querySelector('.close')
    const box = document.querySelector('.box')
    const div_question = document.querySelector('#question')
    const btn_start = document.querySelector('#btn_start')
    const btn_end = document.querySelector('#btn_end')
    let timer_n = 0
    btn_start.addEventListener('click', function () {
      timer_n = setInterval(function () {
        const random = parseInt(Math.random() * question_arr.length)
        div_question.innerHTML = question_arr[random]
      }, 50)
    })
    btn_end.addEventListener('click', function () {
      clearInterval(timer_n)
    })
    box.addEventListener('mouseenter', function () {
      console.log('鼠标进入');
    })
    box.addEventListener('mouseleave', function () {
      console.log('鼠标离开');
    })
    close.addEventListener('click', function () {
      alert('click')
      box.style.display = 'none'
    })
    //事件监听 DOM L0  onClick=function(){}
    //事件监听 DOM L1  addEventListener()
    //on 会被覆盖。 add可以多次绑定。
    const input = document.querySelector('[type=search]')
    input.addEventListener('focus', function () {
      console.log('获得焦点');
    })
    input.addEventListener('blur', function () {
      console.log('失去焦点');
    })
    // 键盘事件
    input.addEventListener('keydown', function () {
      console.log('键盘按下');
    })
    input.addEventListener('input', function () {
      console.log(input.value.length);
    })
    const pinglun = document.querySelector('[name=pinglun]')
    const total = document.querySelector('.total')
    pinglun.addEventListener('focus', function () {
      total.style.opacity = 1
    })
    pinglun.addEventListener('blur', function () {
      total.style.opacity = 0
    })
    //事件对象
    pinglun.addEventListener('input', function (event) {
      total.innerHTML = `${pinglun.value.length}/100字符`
    })
    pinglun.addEventListener('keyup', function (event) {
      console.log(event.key);
    })
  </script>
</body>

</html>